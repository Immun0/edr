---
title: "Chapter 7"
output: html_document
---

### Listing 7.1. Loading edr package

```{r load_tidyverse_edr}
library(edr)
```

We will take a closer look at vectors, one of the fundamental data structures of the R programming language.

The easiest way to create a vector is with the `c()` function, which stands for "combine". To create a vector containing the numbers `1`, `2`, and `3`, type `c(1, 2, 3)`. Try it now and store the result in a variable called `x`.

```{r}
x <- c(1, 2, 3)
x
```

There is a useful shortcut for specifying sequences of numbers: using the colon operator. With that, we can write `1:3` and get same vector defined as `x`. But wait, there's more! We can also elect to use the `seq()` function like `seq(1, 3)` and we'll get the same object yet again.

You can combine vectors to make a new vector. Create a new vector that contains x, 4, then x again in that order.

```{r}
y <- c(x, 4, x)
y
```

We've previously performed mathematical operations when using dplyr (mostly within the mutate() function). Just as a reminder, the common math operators are `+`, `-`, `/`, and `^` (where 2^2 means "two squared"). If we need to specify operator precedence, parentheses should be used. Here are a few examples, where three vectors of length 1 are created (math_1, math_2, and math_3) and then combined into a vector with a length of 3.

```{r}
math_1 <- 5 + 5 * 2
math_2 <- (5 + 5) * 2
math_3 <- ((5 + 5) / (5 - 10)) * 2^2

c(math_1, math_2, math_3)
```

There are also several functions that do mathematical operations. A square root of a number can be obtained with sqrt(). The logarithm and exponential functions are log() and exp(). We can get the absolute value of a number with abs(). Here are some examples on how these functions could be used (we'll wrap them all up in a c() so that we can see the result of each function in a single vector).

```{r}
c(
  sqrt(16),
  log(2.5),
  exp(2.5),
  abs(-5)
)
```

Getting back to the numeric vector y, we can use that directly in a mathematical expression. For example, we can multiply every number in y by 2.

```{r}
y * 2
```

From this output, we see that indeed each resulting value is the original value multiplied by two. The math operations used to produce each value are:

vector(y, 7):  1 2 3 4 1 2 3 
operator (*):  * * * * * * *
vector(2, 1):  2 2 2 2 2 2 2

result:        2 4 6 8 2 4 6

This is an example of performing a mathematical operation across vectors of different sizes. The y vector has a length of 7, and the unnamed vector with the single value of 2 has a length of 1.

We can also perfom math across two equal-length vector. Let's a y to itself:

```{r}
y * y
```


vector(y, 7): 1 2 3 4  1 2 3 
operator (*): * * * *  * * *
vector(y, 7): 1 2 3 4  1 2 3

result:       1 4 9 16 1 4 9

What would happen if we were to multiply vectors of different lengths, say, lengths 2 and 4? Let's try that and see what happens:

```{r}
vec_1 <- c(1, 2, 3, 4)
vec_2 <- c(3, 2)

vec_1 * vec_2
```

vector(vec_1, 4): 1 2 3 4 
operator (*):     * * * *
vector(vec_2, 2): 3 2 3 2

result:           3 4 9 8

When given two vectors of the same length, R simply performs the specified arithmetic operation element-by-element. If the vectors are of different lengths, R 'recycles' the shorter vector until it is the same length as the longer vector. If the length of the shorter vector does not divide evenly into the length of the longer vector, R will still apply the 'recycling' method, but will throw a warning to let you know that this non-clean recycling is happening.

Accessing values from a vector

Individual elements can be accessed using vector indices. These indices which are specified using square brackets. The vector y ([1, 2, 3, 4, 1, 2, 3]) has a length of 7 (try `length(y)` to check this!) and indices from 1 to 7. To get the fifth element of y, we'd use y[5] and expect the fifth element back (1). To get multiple elements back, a vector of indices can be supplied in the square brackets. Here are five annotated examples using vector y, wrapped up in a named list (useful here because the returned values are of variable length):

```{r}
list(
  a = y[5],
  b = y[1:2],
  c = y[c(1, 2, 4)],
  d = y[c(1, 2, 4:5)],
  e = y[c(5, 5)]
)
```

We can access values from a vector that satisfy a condition. Often, this is done with a comparison operator. Let's get the values from y that are greater than or equal to 3: 

```{r}
y[y >= 3]
```



